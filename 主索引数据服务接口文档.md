
# 主索引数据服务接口

## API基本信息

- **API协议**: RESTful API
- **数据格式**: JSON
- **身份认证**: Bearer Token
- **编码方式**: UTF-8

## API列表

### 1. 查询结果

- **接口地址**: `http://api.xxxhospital.com/api/v1/results`
- **请求方法**: GET
- **接口说明**: 此接口用于查询符合指定参数的检查或检验结果。

#### 参数列表

- **输入参数**:

| 参数名          | 必选 | 类型   | 说明                                |
| :-------------- | :--- | :----- | :---------------------------------- |
| patientId       | 是   | string | 患者身份证号码                      |
| institutionCode | 是   | string | 医疗机构代码                        |
| resultType      | 否   | string | 请求的结果类型，如 'check' 或 'lab' |
| specificType    | 否   | string | 请求的特定检查或检验结果类型        |

- **输出参数**:

| 参数名          | 类型   | 说明                   |
| :-------------- | :----- | :--------------------- |
| id              | string | 结果ID                 |
| resultType      | string | 结果类型               |
| specificType    | string | 特定检查或检验结果类型 |
| patientId       | string | 患者身份证号码         |
| institutionCode | string | 医疗机构代码           |
| result          | object | 结果数据               |
| timestamp       | string | 结果生成时间           |

#### 请求示例 - 检查结果

```bash
GET /api/v1/results?patientId=1234567890&institutionCode=XYZ&resultType=check&specificType=oralCheck
```

#### 响应示例 - 检查结果

```json
{
  "data": [
    {
      "id": "1",
      "resultType": "check",
      "specificType": "oralCheck",
      "patientId": "1234567890",
      "institutionCode": "XYZ",
      "result": {
        "teethStatus": "Healthy",
        "oralHygiene": "Good",
        "recommendations": "Continue regular brushing."
      },
      "timestamp": "2023-07-17T14:28:00Z"
    },
    // ...其他符合条件的结果
  ]
}
```

#### 请求示例 - 检验结果

```bash
GET /api/v1/results?patientId=1234567890&institutionCode=XYZ&resultType=lab&specificType=bloodTest
```

#### 响应示例 - 检验结果

```json
{
  "data": [
    {
      "id": "2",
      "resultType": "lab",
      "specificType": "bloodTest",
      "patientId": "1234567890",
      "institutionCode": "XYZ",
      "result": {
        "whiteBloodCells": 7.2,
        "redBloodCells": 4.5,
        "hemoglobin": 13.0
      },
      "timestamp": "2023-07-17T14:28:00Z"
    },
    // ...其他符合条件的结果
  ]
}
```

### 2. 添加结果

- **接口地址**: `http://api.xxxhospital.com/api/v1/results`
- **请求方法**: POST
- **接口说明**: 此接口用于添加新的检查或检验结果。

#### 参数列表

- **输入参数**:

| 参数名          | 必选 | 类型   | 说明                                |
| :-------------- | :--- | :----- | :---------------------------------- |
| patientId       | 是   | string | 患者身份证号码                      |
| institutionCode | 是   | string | 医疗机构代码                        |
| resultType      | 是   | string | 请求的结果类型，如 'check' 或 'lab' |
| specificType    | 是   | string | 请求的特定检查或检验结果类型        |
| result          | 是   | object | 结果数据                            |

#### 请求示例 - 检查结果

```bash
POST /api/v1/results
Body: 
{
  "patientId": "1234567890",
  "institutionCode": "XYZ",
  "resultType": "check",
  "specificType": "oralCheck",
  "result": {
    "dentist": "Dr. Smith",
    "findings": "No cavities, gums in good condition",
    "recommendations": "Continue regular brushing and flossing"
  }
}
```

#### 响应示例 - 检查结果

```json
{
  "data": {
    "id": "1",
    "resultType": "check",
    "specificType": "oralCheck",
    "patientId": "1234567890",
    "institutionCode": "XYZ",
    "result": {
      "dentist": "Dr. Smith",
      "findings": "No cavities, gums in good condition",
      "recommendations": "Continue regular brushing and flossing"
    },
    "timestamp": "2023-07-17T14:28:00Z"
  }
}
```

#### 请求示例 - 检验结果

```bash
POST /api/v1/results
Body: 
{
  "patientId": "1234567890",
  "institutionCode": "XYZ",
  "resultType": "lab",
  "specificType": "bloodTest",
  "result": {
    "whiteBloodCells": 7000,
    "redBloodCells": 5.1,
    "hemoglobin": 15.5,
    "hematocrit": 45.0,
    "platelets": 150000
  }
}
```

#### 响应示例 - 检验结果

```json
{
  "data": {
    "id": "1",
    "resultType": "lab",
    "specificType": "bloodTest",
    "patientId": "1234567890",
    "institutionCode": "XYZ",
    "result": {
      "whiteBloodCells": 7000,
      "redBloodCells": 5.1,
      "hemoglobin": 15.5,
      "hematocrit": 45.0,
      "platelets": 150000
    },
    "timestamp": "2023-07-17T14:28:00Z"
  }
}
```

### 3. 修改结果

- **接口地址**: `http://api.xxxhospital.com/api/v1/results/{resultId}`
- **请求方法**: PUT
- **接口说明**: 此接口用于修改指定的检查或检验结果。

#### 参数列表

- **输入参数**:

| 参数名   | 必选 | 类型   | 说明           |
| :------- | :--- | :----- | :------------- |
| resultId | 是   | string | 结果ID         |
| result   | 是   | object | 修改的结果数据 |

#### 请求示例 - 检查结果

```bash
PUT /api/v1/results/1
Body: 
{
  "result": {
    "generalStatus": "good",
    "heartRate": 75,
    "bloodPressure": "120/80",
    "temperature": 37.0
  }
}
```

#### 响应示例 - 检查结果

```json
{
  "data": {
    "id": "1",
    "resultType": "check",
    "specificType": "oralCheck",
    "patientId": "1234567890",
    "institutionCode": "XYZ",
    "result": {
      "generalStatus": "good",
      "heartRate": 75,
      "bloodPressure": "120/80",
      "temperature": 37.0
    },
    "timestamp": "2023-07-17T14:28:00Z"
  }
}
```

#### 请求示例 - 检验结果

```bash
PUT /api/v1/results/1
Body: 
{
  "result": {
    "glucose": 4.6,
    "cholesterol": 5.2,
    "hemoglobin": 13.5
  }
}
```

#### 响应示例 - 检验结果

```json
{
  "data": {
    "id": "1",
    "resultType": "lab",
    "specificType": "bloodTest",
    "patientId": "1234567890",
    "institutionCode": "XYZ",
    "result": {
      "glucose": 4.6,
      "cholesterol": 5.2,
      "hemoglobin": 13.5
    },
    "timestamp": "2023-07-17T14:28:00Z"
  }
}
```

### 4. 删除结果

- **接口地址**: `http://api.xxxhospital.com/api/v1/results/{resultId}`
- **请求方法**: DELETE
- **接口说明**: 此接口用于删除指定的检查或检验结果。

#### 参数列表

- **输入参数**:

| 参数名   | 必选 | 类型   | 说明   |
| :------- | :--- | :----- | :----- |
| resultId | 是   | string | 结果ID |

#### 请求示例 - 检查结果

```bash
DELETE /api/v1/results/1
```

#### 响应示例 - 检查结果

```json
{
  "message": "Check result deleted successfully."
}
```

#### 请求示例 - 检验结果

```bash
DELETE /api/v1/results/2
```

#### 响应示例 - 检验结果

```json
{
  "message": "Lab result deleted successfully."
}
```

